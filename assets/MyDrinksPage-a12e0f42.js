import{a as D,b as c,$ as k,y as E,a2 as w,r,S as C,a3 as h,j as e,a4 as S}from"./index-9d817bda.js";import{D as I,P as M}from"./Paginator-d97a3e3a.js";import{E as O}from"./Pagination-4d147485.js";import{S as v,C as F}from"./Section-280564bb.js";import{P as H}from"./blue_iced_tea_mobile@2x-de0ad5b0.js";const Q=()=>{const a=D(),p=c(k),u=c(E),t=c(w),[n,m]=r.useState(0),i=C.useMediaQuery({query:"(min-width: 1440px)"}),x=i?9:8,[s,f]=r.useState(x);r.useEffect(()=>{f(i?9:8)},[i]);const l=(t==null?void 0:t.totalHits)||0;r.useEffect(()=>{a(h({page:n+1,limit:s}))},[a,n,s]);const j=async o=>{a(S({drinkId:o}));const d=l-1,P=d%s===0?Math.min(n+1,Math.ceil(d/s)-1):n;m(P),await Promise.all([a(h({page:P+1,limit:s}))])},g=Array.isArray(t)?t:t.data,y=o=>{m(o-1)};return e.jsx(e.Fragment,{children:e.jsx(v,{children:e.jsxs(F,{children:[e.jsx(H,{title:"My drinks"}),!p&&!u&&g.length===0?e.jsx(e.Fragment,{children:e.jsx(O,{text:"You haven't added any own cocktails yet"})}):e.jsxs(e.Fragment,{children:[e.jsx(I,{drinks:g,text:"See more",onDelete:j}),e.jsx(M,{totalHits:l,itemsPerPage:s,onPageChange:y})]})]})})})};export{Q as default};
